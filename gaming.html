<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="albums.json">
<style>
    
</style>
</head>
<body>
    <!--vi laver alle de forskellige genrer som vi gerne vil have og vi giver dem et id så laver vi et onclick event
        der kalder funktionen filterMusic som så giver den specifikke genre og derefter giver vi et navn til knappen
    -->
<button id="Rock" onclick="filterMusic('Rock')">Rock</button>
<button id="Pop" onclick="filterMusic('Pop')">Pop</button>
<button id="Alternative Rock" onclick="filterMusic('Alternative Rock')">Alternative Rock</button>
<button id="Funk" onclick="filterMusic('Funk')">Funk</button>
<button id="moviesoundtrack" onclick="filterMusic('Movie Soundtrack')">Movie Soundtrack</button>

<p id="content"></p>

<script>  

// her laver vi en funktion som heder filterMusic og definerer så den genre vi skrev ovenover som selectedgenre
function filterMusic(selectedGenre) {
    genre = selectedGenre;
    ShowAlbums();
}


let content1 = document.getElementById("content");
let albums = []; // Initialize an empty array to store the albums

fetchContent('albums.json').then((data) => {
    albums = data; // Store the fetched data in the "albums" array
    console.log(albums)
});

function ShowAlbums() {
    content1.innerHTML = ''; // Clear the current content

    // Hver gang vi skal have vist et album med en bestemt genre, går den ind i vores musikalbumarkiv array og udplukker alle albums
    // der har den specifikke genre og sætter dem ind i et nyt array kaldet filteredAlbums og viser nedstående oplysninger om dem 
    const filteredAlbums = albums.filter(album => album.genre === genre);

    filteredAlbums.forEach(album => {
        content1.innerHTML += "Artist: " + album.artistName + "<br>";
        content1.innerHTML += "Album: " + album.albumName + "<br>";
        content1.innerHTML += "Website: " + album.artistWebsite + "<br>";
        content1.innerHTML += "Genre: " + album.genre + "<br><br>";
    });
}

function fetchContent(url) {
    return fetch(url)
        .then(response => response.json())
        .catch(error => console.error('Error fetching data:', error));
}

</script>

</body>
</html>